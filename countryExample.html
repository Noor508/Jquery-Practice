<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Country City Example</title>
    <script src="jquery.js" type="text/javascript"></script>
    <script>
      var countries = []; // Corrected array initialization

      countries.push({ CountryID: 1, Name: "Pakistan" });
      countries.push({ CountryID: 2, Name: "India" });
      countries.push({ CountryID: 3, Name: "China" });

      var cities = [];

      cities.push({ cityID: 1, CountryID: 1, Name: "Lahore" });
      cities.push({ cityID: 2, CountryID: 1, Name: "Karachi" });
      cities.push({ cityID: 3, CountryID: 1, Name: "Isb" });
      cities.push({ cityID: 4, CountryID: 2, Name: "Delhi" });
      cities.push({ cityID: 5, CountryID: 2, Name: "Bombay" });
      cities.push({ cityID: 6, CountryID: 3, Name: "Shanghai" });
      cities.push({ cityID: 7, CountryID: 3, Name: "Beijing" });

      $(document).ready(function () {
        var countryDropdown = $("#country");

        // Add default option
        var defaultOption = $("<option>");
        defaultOption.attr("value", "0");
        defaultOption.text("--Select--");
        countryDropdown.append(defaultOption);

        // Populate country dropdown
        for (var i = 0; i < countries.length; i++) {
          var countryOption = $("<option>");
          countryOption.attr("value", countries[i].CountryID);
          countryOption.text(countries[i].Name);

          countryDropdown.append(countryOption);
        }

        // Add event listener to update the city dropdown when a country is selected
        countryDropdown.change(function () {
          var countryID = $(this).val();
          var cityDropdown = $("#city");
          cityDropdown.find("option:not(:first)").remove(); // Clear previous options

          for (var i = 0; i < cities.length; i++) {
            if (cities[i].CountryID == countryID) {
              var cityOption = $("<option>");
              cityOption.attr("value", cities[i].cityID);
              cityOption.text(cities[i].Name);

              cityDropdown.append(cityOption);
            }
          }
        });
      });
    </script>
  </head>
  <body>
    <label for="country">Country:</label>
    <select id="country"></select>
    <br />
    <label for="city">City:</label>
    <select id="city">
      <option value="0">--Select--</option>
    </select>
  </body>
</html>
